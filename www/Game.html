<!DOCTYPE html>
<html>
<head>
</head>
<body>
<canvas id="mainStage" width=1920 height=650>
	<!-- Preload the images in the canvas -->
	<img id="wheel" src="img/wheel.png" />
	<img id="body" src="img/body.png" />
</canvas>
<script type="text/javascript" src="js/easeljs.min.js"></script>
<script>

(function(){
	
	var stage = new createjs.Stage(document.getElementById("mainStage"));
	var oWheel = new createjs.Bitmap(document.getElementById("wheel"));
	stage.addChild(oWheel);
	var oBody = new createjs.Bitmap(document.getElementById("body"));
	stage.addChild(oBody);
	 
	 // now put the body and wheel together
	var oRectWheel = oWheel.getBounds();
	var oRectBody = oBody.getBounds();
	
	// set registration point of the wheel
	oWheel.regX = oRectWheel.width/2 + 4;
	oWheel.regY = oRectWheel.height/2;
	
	var nWheelY = oRectBody.height - 6;
	oWheel.y = nWheelY;
	
	// set registration point of the body
	oBody.regX = oRectBody.width/3;
	
	
	stage.update();
	
	// handle mouse movement
	window.onmousemove = function(evtMouse){
		evtMouse = evtMouse || window.event; // this is for IE
		var mouseX = evtMouse.clientX;
		oWheel.x = mouseX;
		oBody.x = mouseX;
		oWheel.rotation = mouseX;
		
		stage.update();
	};
	var x = 0;
	var y = 0;
	window.onclick = function(evtClick){
		oWheel.scaleX += 1;
		oWheel.scaleY += 1;
		if(oWheel.scaleX >= 8) {
			oWheel.scaleX = 8;
			oWheel.scaleY = 8;
		}
/*		oWheel.shadow = new createjs.Shadow("#000000", 5, 5, 10);
		oBody.shadow = new createjs.Shadow("#000000", 5, 5, 10);
*/		
	}
	
	window.onkeypress = function(evtKeypress){
		oWheel.scaleX -= 1;
		oWheel.scaleY -= 1;
		if(oWheel.scaleX <= 1) {
			oWheel.scaleX = 1;
			oWheel.scaleY = 1;
		}
		
		var aFills = [ "rgba(255,0,0,1)", "rgba(255,255,0,1)", "rgba(0,255,0,1)", "rgba(0,255,255,1)", "rgba(0,0,255,1)", "rgba(0,0,0,1)" ];
		var randColour = Math.floor(Math.random() * 5);
		
		var shape = new createjs.Shape();
		//shape.graphics.beginFill(aFills[randColour]).drawRect(x, y, 100, 100);
		shape.graphics.beginFill(aFills[randColour]).drawCircle(x, y, 53);
		stage.addChild(shape);
		
		var j = Math.floor(Math.random() * 18);
		x=j*105;
		var n = Math.floor(Math.random() * 6);
		y=n*105;
	}
	
})();





</script>
</body>
</html>